#  vue api

## 全局配置
Vue.config 是一个对象，包含 Vue 的全局配置。可以在启动应用之前修改下列属性：

- `Vue.config.silent = true` :取消 Vue 所有的日志与警告。

- // 务必在加载 Vue 之后，立即同步设置以下内容
  - Vue.config.devtools = true
  - 配置是否允许 vue-devtools 检查代码。开发版本默认为 true，生产版本默认为 false。生产版本设为 true 可以启用检查。
- errorHandler： 错误的处理函数
  - 类型：Function
  ```
  Vue.config.errorHandler = function (err, vm, info) {
    // handle error
    // `info` 是 Vue 特定的错误信息，比如错误所在的生命周期钩子
    // 只在 2.2.0+ 可用
  }
  指定组件的渲染和观察期间未捕获错误的处理函数。这个处理函数被调用时，可获取错误信息和 Vue 实例。
  ```
- warnHandler：警告赋予一个自定义处理函数
```
Vue.config.warnHandler = function (msg, vm, trace) {
  // `trace` 是组件的继承关系追踪
}
为 Vue 的运行时警告赋予一个自定义处理函数。注意这只会在开发者环境下生效，在生产环境下它会被忽略。
```

- ignoredElements: 须使 Vue 忽略在 Vue 之外的自定义元素，类型：Array<string | RegExp>
```
须使 Vue 忽略在 Vue 之外的自定义元素 (e.g. 使用了 Web Components APIs)。
否则，它会假设你忘记注册全局组件或者拼错了组件名称，从而抛出一个关于 Unknown custom element 的警告。
```

- keyCodes:给 v-on 自定义键位别名。
```
Vue.config.keyCodes = {
  v: 86,
  f1: 112,
  // camelCase 不可用
  mediaPlayPause: 179,
  // 取而代之的是 kebab-case 且用双引号括起来
  "media-play-pause": 179,
  up: [38, 87]
}
```
- performance：设置为 true 以在浏览器开发工具的性能/时间线面板中启用对组件初始化、编译、渲染和打补丁的性能追踪。  
  只适用于开发模式和支持 performance.mark API 的浏览器上

- productionTip：设置为 false 以阻止 vue 在启动时生成生产提示。


## 全局 API
- Vue.extend( options )：使用基础 Vue 构造器，创建一个“子类”。参数是一个包含组件选项的对象。

data 选项是特例，需要注意 - 在 Vue.extend() 中它必须是函数

```
<div id="mount-point"></div>
// 创建构造器
var Profile = Vue.extend({
  template: '<p>{{firstName}} {{lastName}} aka {{alias}}</p>',
  data: function () {
    return {
      firstName: 'Walter',
      lastName: 'White',
      alias: 'Heisenberg'
    }
  }
})
// 创建 Profile 实例，并挂载到一个元素上。
new Profile().$mount('#mount-point')
```
- Vue.nextTick( [callback, context] )：在下次 DOM 更新循环结束之后执行延迟回调。在修改数据之后立即使用这个方法，获取更新后的 DOM。  
  Vue.nextTick用于延迟执行一段代码，它接受2个参数（回调函数和执行回调函数的上下文环境），如果没有提供回调函数，那么将返回promise对象。

```
// 修改数据
vm.msg = 'Hello'
// DOM 还没有更新
Vue.nextTick(function () {
  // DOM 更新了
})

// 作为一个 Promise 使用 (2.1.0 起新增，详见接下来的提示)
Vue.nextTick()
  .then(function () {
    // DOM 更新了
  })

```
>2.1.0 起新增：如果没有提供回调且在支持 Promise 的环境中，则返回一个 Promise。
请注意 Vue 不自带 Promise 的 polyfill，所以如果你的目标浏览器不原生支持 Promise (IE：你们都看我干嘛)，你得自己提供 polyfill。

- 参考
  - https://www.zhihu.com/question/50879936
  - http://www.ruanyifeng.com/blog/2014/10/event-loop.html
  - https://www.cnblogs.com/hity-tt/p/6729118.html

- Vue.set( target, key, value ):返回值：设置的值。
向响应式对象中添加一个属性，并确保这个新属性同样是响应式的，且触发视图更新。  
它必须用于向响应式对象上添加新属性，因为 Vue 无法探测普通的新增属性 (比如 this.myObject.newProperty = 'hi')

>注意对象不能是 Vue 实例，或者 Vue 实例的根数据对象。

- Vue.delete( target, key ):
删除对象的属性。如果对象是响应式的，确保删除能触发更新视图。  
这个方法主要用于避开 Vue 不能检测到属性被删除的限制，但是你应该很少会使用它。

- Vue.directive( id, [definition] ):
注册或获取全局指令。
```
// 注册
Vue.directive('my-directive', {
  bind: function () {},
  inserted: function () {},
  update: function () {},
  componentUpdated: function () {},
  unbind: function () {}
})

// 注册 (指令函数)
Vue.directive('my-directive', function () {
  // 这里将会被 `bind` 和 `update` 调用
})

// getter，返回已注册的指令
var myDirective = Vue.directive('my-directive')
```
- Vue.filter( id, [definition] ): 注册或获取全局过滤器。
```
// 注册
Vue.filter('my-filter', function (value) {
  // 返回处理后的值
})

// getter，返回已注册的过滤器
var myFilter = Vue.filter('my-filter')
```
  - 参考：https://cn.vuejs.org/v2/guide/filters.html






## 参考
- https://cn.vuejs.org/v2/api/#%E5%85%A8%E5%B1%80%E9%85%8D%E7%BD%AE
