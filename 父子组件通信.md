# 父子组件通信demo

```
<!DOCTYPE html>  
<html>  
<head>  
  <meta charset="UTF-8">
  <title>index</title>
  <meta content="yes" name="apple-mobile-web-app-capable"> 
  <meta content="yes" name="apple-touch-fullscreen"> 
  <meta content="telephone=no,email=no" name="format-detection"> 
  <meta name="App-Config" content="fullscreen=yes,useHistoryState=yes,transition=yes">
  <!-- 引入样式 -->
  <link rel="stylesheet" href="css/index.css">
  <link rel="stylesheet" href="css/style.css">
</head>  
<body class="indexbg">

    <div id="app">
        <parent-component></parent-component>
        <p-component></p-component>
    </div>

    <template id="parent-component">
        <div>
            <child-component :childmsg="msg" ref="f1"></child-component>
            <button v-on:click="showChildrenComponentData">显示子组件的数据</button>
        </div>
       
    </template>

    <template id="child-component">
        <div>
            <h2>This is a child component</h2>
            <button v-on:click="showParentComponentData">显示父组件的数据</button>
        </div>
        
    </template>

    <template id="p-component">
        <div>
            <child-component :childmsg="msg" ref="f1"></child-component>
            <button v-on:click="showChildrenComponentData">显示子组件的数据</button>
        </div>
       
    </template>

    <script src="js/vue.js"></script>
    <script>
        Vue.component('parent-component', {
            template: '#parent-component',
            components: {
                'child-component': {
                    props: ['childmsg'],
                    template: '#child-component',
                    data: function() {
                        return {
                            childms: 'child component 111111'
                        }
                    },
                    methods: {
                        showParentComponentData: function() {
                            alert(this.$parent.msg)
                            console.log(this.childmsg);
                        }
                    }
                }
            },
            data: function() {
                return {
                    msg: 'parent component message'
                }
            },
            methods: {
                showChildrenComponentData: function() {
                    alert(this.$children[0].childms)
                    console.log(this.$refs.f1.childms);
                }
            }
        })
        Vue.component('p-component', {
            template: '#p-component',
            components: {
                'child-component': {
                    props: ['childmsg'],
                    template: '#child-component',
                    data: function() {
                        return {
                            childms: 'child component 222222'
                        }
                    },
                    methods: {
                        showParentComponentData: function() {
                            alert(this.$parent.msg)
                            console.log(this.childmsg);
                        }
                    }
                }
            },
            data: function() {
                return {
                    msg: 'parent component message222222'
                }
            },
            methods: {
                showChildrenComponentData: function() {
                    alert(this.$children[0].childms)
                    console.log(this.$refs.f1.childms);
                }
            }
        })
        new Vue({
            el: '#app'
        })
    </script>

</body>  
</html>  
```
